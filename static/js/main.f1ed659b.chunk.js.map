{"version":3,"sources":["ecu.worker.js","components/SelectFirmware.js","components/CheckCompatible.js","components/FlashFirmware.js","components/Donate.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Worker","__webpack_require__","p","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","y","G","v","a","d","bind","length","l","TypeError","call","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","this","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","SelectFirmware","_React$Component","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","state","manufacturer","file","undefined","manufacturerChange","target","setState","onFileSelect","_ref","_asyncToGenerator","_callee","_context","files","worker","postMessage","command","params","onReceiveFirmwareFile","_x","apply","arguments","selectedFirmwareFile","_inherits","_createClass","key","name","classes","action","React","createElement","Button","href","color","size","Fragment","className","root","autoComplete","formWrapper","Grid","container","spacing","alignItems","item","xs","style","paddingBottom","FormControl","formControl","InputLabel","shrink","htmlFor","Select","onChange","inputProps","id","MenuItem","fullWidth","TextField","label","textField","InputProps","readOnly","InputLabelProps","margin","placeholder","_getFileName","type","accept","input","variant","component","SnackbarContent","snackbar","message","Component","withStyles","theme","subtitle","unit","marginBottom","minWidth","verticalAlign","display","CheckCompatible","_getPrototypeOf2","_len","args","Array","_key","concat","firmwareValid","firmwareVersions","canAddress","softwareVersion","versionStatus","connected","_workerListener","event","data","result","supported","compatibleVersions","onReceiveCompatible","compatible","onReceiveSoftwareVersion","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","clickConnect","device","_t","navigator","usb","requestDevice","filters","vendorId","serialNumber","code","bool","version","status","greenAvatar","redAvatar","num","toString","List","ListItem","Avatar","CheckIcon","CloseIcon","ListItemText","primary","secondary","_convertToValidStatus","DeviceHubIcon","_convertToHex","_convertToVersionStatus","BuildIcon","_convertToSofwareVersion","disabled","onClick","backgroundColor","green","red","button","marginTop","marginLeft","FlashFirmware","last_progress_update","userAgreement","progress","success","Date","now","clickAgree","open","onReceiveUserAgreement","fontWeight","textAlign","Typography","gutterBottom","LinearProgress","Donate","method","donate","src","border","title","alt","width","height","paddingLeft","lineHeight","steps","App","activeStep","firmwareFile","ecuSoftwareVersion","ecuCompatible","flashing","enqueueSnackbar","autoHideDuration","getStepContent","step","Error","agreement","handleNext","handleBack","handleReset","EcuWorker","CssBaseline","AppBar","position","appBar","Toolbar","grow","noWrap","MemoryIcon","classNames","appBarLink","rel","IconButton","aria-label","SvgIcon","layout","Paper","paper","Stepper","stepper","map","Step","StepLabel","align","stepButtons","stepButton","_shouldStep","AppWithSnackbar","_defineProperty","marginRight","breakpoints","up","flexGrow","dangerMessage","palette","error","dark","maxWidth","borderRadius","padding","justifyContent","withSnackbar","SnackbarProviderApp","SnackbarProvider","maxSnack","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","ReactDOM","render","document","getElementById","URL","process","origin","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"6EAAAA,EAAAC,QAAA,WACA,WAAAC,OAAoBC,EAAAC,EAAuB,0oBCA3C,IAAAC,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAjB,EAAAO,GAAA,GAAAW,GAAA,EAAAC,EAAA,CAAAnB,EAAA,EAAAK,EAAA,EAAAe,EAAAnB,EAAAoB,EAAAC,EAAAL,EAAAK,EAAAC,KAAAtB,EAAA,GAAAqB,EAAA,SAAApB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAkB,EAAAd,EAAAF,EAAAkB,IAAA,SAAAC,EAAAnB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAgB,GAAAD,IAAAV,GAAAL,EAAAF,EAAAwB,OAAAtB,IAAA,KAAAK,EAAAE,EAAAT,EAAAE,GAAAoB,EAAAH,EAAAnB,EAAAyB,EAAAhB,EAAA,GAAAN,EAAA,GAAAI,EAAAkB,IAAApB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAa,KAAAf,EAAAJ,EAAA,GAAAmB,EAAAb,EAAA,KAAAC,EAAA,EAAAS,EAAAC,EAAAf,EAAAc,EAAAd,EAAAI,EAAA,IAAAa,EAAAG,IAAAlB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAoB,KAAAhB,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAc,EAAAd,EAAAoB,EAAAf,EAAA,OAAAH,GAAAJ,EAAA,SAAAkB,EAAA,MAAAH,GAAA,EAAAb,EAAA,gBAAAE,EAAAP,EAAAyB,GAAA,GAAAR,EAAA,QAAAS,UAAA,oCAAAR,GAAA,IAAAlB,GAAAsB,EAAAtB,EAAAyB,GAAAf,EAAAV,EAAAa,EAAAY,GAAAvB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAK,GAAA,CAAAT,IAAAC,IAAA,GAAAA,EAAA,IAAAS,EAAAd,GAAA,GAAAiB,EAAAZ,EAAAG,IAAAM,EAAAd,EAAAQ,EAAAM,EAAAC,EAAAP,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAyB,KAAAlB,EAAAI,IAAA,MAAAa,UAAA,wCAAAxB,EAAA0B,KAAA,OAAA1B,EAAAW,EAAAX,EAAA2B,MAAAnB,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAAqB,SAAA5B,EAAAyB,KAAAlB,GAAAC,EAAA,IAAAG,EAAAa,UAAA,oCAAAnB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAgB,EAAAC,EAAAd,EAAA,GAAAQ,EAAAV,EAAAwB,KAAAtB,EAAAc,MAAAE,EAAA,YAAAnB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAY,MAAA3B,EAAA0B,KAAAV,IAAA,CAAAf,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAQ,EAAA,YAAAT,KAAA,SAAAmB,KAAA,SAAAC,KAAA9B,EAAAY,OAAAmB,eAAA,IAAAvB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,EAAA,kBAAA6B,OAAAhC,GAAAW,EAAAmB,EAAArB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAqB,eAAArB,OAAAqB,eAAAlC,EAAA+B,IAAA/B,EAAAmC,UAAAJ,EAAAhB,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA8B,EAAApB,UAAAqB,EAAAhB,GAAAH,EAAA,cAAAmB,GAAAhB,GAAAgB,EAAA,cAAAD,KAAAM,YAAA,oBAAArB,GAAAgB,EAAAzB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,EAAA,kBAAA6B,OAAAlB,GAAAH,EAAA,oDAAAyB,GAAA,kBAAAC,EAAA9B,EAAA+B,EAAAvB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAA2B,eAAA,IAAAhC,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,SAAAK,EAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,EAAA,SAAAF,GAAA,OAAAiC,KAAAQ,QAAAvC,EAAAE,EAAAJ,KAAAE,EAAAM,IAAAR,EAAAE,EAAA,CAAA0B,MAAAxB,EAAAsC,YAAAzC,EAAA0C,cAAA1C,EAAA2C,UAAA3C,IAAAD,EAAAE,GAAAE,GAAAE,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAWA,IAiBM4C,GAAc,SAAAC,GAClB,SAAAD,EAAYE,GAAO,IAAAC,EAG2B,OAH3BC,YAAAhB,KAAAY,IACjBG,EAAAE,YAAAjB,KAAAkB,YAAAN,GAAAnB,KAAAO,KAAMc,KAKRK,MAAQ,CACNC,aAAc,QACdC,UAAMC,GACPP,EAEDQ,mBAAqB,SAACxD,GACpB,IAAI4B,EAAQ5B,EAAEyD,OAAO7B,MACrBoB,EAAKU,SAAS,SAAAN,GAAK,MAAK,CAAEC,aAAczB,MACzCoB,EAEDW,aAAY,eAAAC,EAAAC,YAAAxB,KAAAE,EAAG,SAAAuB,EAAO9D,GAAC,IAAAsD,EAAA,OAAAjB,KAAAC,EAAA,SAAAyB,GAAA,cAAAA,EAAA3D,GAAA,OACjBkD,EAAOtD,EAAEyD,OAAOO,MAAM,GAC1BhB,EAAKU,SAAS,SAAAN,GAAK,MAAK,CAAEE,KAAMA,KAChCN,EAAKD,MAAMkB,OAAOC,YAAY,CAAEC,QAAS,oBAAqBC,OAAQd,IACtEN,EAAKD,MAAMsB,sBAAsBf,GAAK,cAAAS,EAAA3C,EAAA,KAAA0C,MACvC,gBAAAQ,GAAA,OAAAV,EAAAW,MAAAtC,KAAAuC,YALW,GAbVxB,EAAKI,MAAME,KAAOP,EAAM0B,qBAAoBzB,EA0F7C,OA9FiB0B,YAAA7B,EAAAC,GAKjB6B,YAAA9B,EAAA,EAAA+B,IAAA,eAAAhD,MAAA,SAmBY0B,GACX,OAAOA,EAAOA,EAAKuB,KAAO,KAC3B,CAAAD,IAAA,SAAAhD,MAAA,WAEQ,IACCkD,EAAY7C,KAAKc,MAAjB+B,QAEFC,EACJC,IAAAC,cAACC,IAAM,CAACC,KAAK,yCAAyC1B,OAAO,SAAS2B,MAAM,YAAYC,KAAK,SAAQ,oBAKvG,OACEL,IAAAC,cAACD,IAAMM,SAAQ,KACbN,IAAAC,cAAA,OAAKM,UAAWT,EAAQU,MACtBR,IAAAC,cAAA,QAAMQ,aAAa,MAAMF,UAAWT,EAAQY,aAC1CV,IAAAC,cAACU,IAAI,CAACC,WAAS,EAACC,QAAS,GAAIC,WAAW,YACtCd,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,GAAIC,MAAO,CAACC,cAAe,IACxClB,IAAAC,cAACkB,IAAW,CAACZ,UAAWT,EAAQsB,aAC9BpB,IAAAC,cAACoB,IAAU,CAACC,QAAM,EAACC,QAAQ,uBAAsB,gBAGjDvB,IAAAC,cAACuB,IAAM,CACLC,SAAUxE,KAAKuB,mBACf5B,MAAOK,KAAKmB,MAAMC,aAClBqD,WAAY,CACV7B,KAAM,eACN8B,GAAI,wBAGN3B,IAAAC,cAAC2B,KAAQ,CAAChF,MAAM,SAAQ,YAI9BoD,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,GACbhB,IAAAC,cAACkB,IAAW,CAACZ,UAAWT,EAAQsB,YAAaS,WAAW,GACtD7B,IAAAC,cAAC6B,KAAS,CACRH,GAAG,qBACHI,MAAM,gBACNxB,UAAWT,EAAQkC,UACnBH,WAAW,EACXI,WAAY,CACVC,UAAU,GAEZC,gBAAiB,CACfb,QAAQ,GAEVc,OAAO,QACPC,YAAY,mBACZzF,MAAOK,KAAKqF,aAAarF,KAAKmB,MAAME,UAI1C0B,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,GACbhB,IAAAC,cAACkB,IAAW,CAACZ,UAAWT,EAAQsB,aAC9BpB,IAAAC,cAAA,SAAOsC,KAAK,OAAOZ,GAAG,uBAAuBF,SAAUxE,KAAK0B,aAAc6D,OAAO,OAAOjC,UAAWT,EAAQ2C,QAC3GzC,IAAAC,cAAA,SAAOsB,QAAQ,wBACbvB,IAAAC,cAACC,IAAM,CAACwC,QAAQ,YAAYtC,MAAM,YAAYuC,UAAU,QAAO,kBAIrE3C,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,IACbhB,IAAAC,cAAC2C,KAAe,CAACrC,UAAWT,EAAQ+C,SAAUC,QAAQ,gCAAgC/C,OAAQA,aAO3GlC,EA9FiB,CAASmC,IAAM+C,WAuGpBC,OAxHA,SAAAC,GAAK,MAAK,CACvBC,SAAU,CACRhC,cAAe+B,EAAMpC,QAAQsC,MAE/BzC,YAAa,CACX0C,aAAmC,EAArBH,EAAMpC,QAAQsC,MAE9B/B,YAAa,CACXgB,OAAQa,EAAMpC,QAAQsC,KACtBE,SAAU,IACVC,cAAe,YAEjBb,MAAO,CACLc,QAAS,UA2GEP,CAAmBnF,8NCnIlC,IAAA7C,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAjB,EAAAO,GAAA,GAAAW,GAAA,EAAAC,EAAA,CAAAnB,EAAA,EAAAK,EAAA,EAAAe,EAAAnB,EAAAoB,EAAAC,EAAAL,EAAAK,EAAAC,KAAAtB,EAAA,GAAAqB,EAAA,SAAApB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAkB,EAAAd,EAAAF,EAAAkB,IAAA,SAAAC,EAAAnB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAgB,GAAAD,IAAAV,GAAAL,EAAAF,EAAAwB,OAAAtB,IAAA,KAAAK,EAAAE,EAAAT,EAAAE,GAAAoB,EAAAH,EAAAnB,EAAAyB,EAAAhB,EAAA,GAAAN,EAAA,GAAAI,EAAAkB,IAAApB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAa,KAAAf,EAAAJ,EAAA,GAAAmB,EAAAb,EAAA,KAAAC,EAAA,EAAAS,EAAAC,EAAAf,EAAAc,EAAAd,EAAAI,EAAA,IAAAa,EAAAG,IAAAlB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAoB,KAAAhB,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAc,EAAAd,EAAAoB,EAAAf,EAAA,OAAAH,GAAAJ,EAAA,SAAAkB,EAAA,MAAAH,GAAA,EAAAb,EAAA,gBAAAE,EAAAP,EAAAyB,GAAA,GAAAR,EAAA,QAAAS,UAAA,oCAAAR,GAAA,IAAAlB,GAAAsB,EAAAtB,EAAAyB,GAAAf,EAAAV,EAAAa,EAAAY,GAAAvB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAK,GAAA,CAAAT,IAAAC,IAAA,GAAAA,EAAA,IAAAS,EAAAd,GAAA,GAAAiB,EAAAZ,EAAAG,IAAAM,EAAAd,EAAAQ,EAAAM,EAAAC,EAAAP,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAyB,KAAAlB,EAAAI,IAAA,MAAAa,UAAA,wCAAAxB,EAAA0B,KAAA,OAAA1B,EAAAW,EAAAX,EAAA2B,MAAAnB,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAAqB,SAAA5B,EAAAyB,KAAAlB,GAAAC,EAAA,IAAAG,EAAAa,UAAA,oCAAAnB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAgB,EAAAC,EAAAd,EAAA,GAAAQ,EAAAV,EAAAwB,KAAAtB,EAAAc,MAAAE,EAAA,YAAAnB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAY,MAAA3B,EAAA0B,KAAAV,IAAA,CAAAf,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAQ,EAAA,YAAAT,KAAA,SAAAmB,KAAA,SAAAC,KAAA9B,EAAAY,OAAAmB,eAAA,IAAAvB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,EAAA,kBAAA6B,OAAAhC,GAAAW,EAAAmB,EAAArB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAqB,eAAArB,OAAAqB,eAAAlC,EAAA+B,IAAA/B,EAAAmC,UAAAJ,EAAAhB,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA8B,EAAApB,UAAAqB,EAAAhB,GAAAH,EAAA,cAAAmB,GAAAhB,GAAAgB,EAAA,cAAAD,KAAAM,YAAA,oBAAArB,GAAAgB,EAAAzB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,EAAA,kBAAA6B,OAAAlB,GAAAH,EAAA,oDAAAyB,GAAA,kBAAAC,EAAA9B,EAAA+B,EAAAvB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAA2B,eAAA,IAAAhC,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,SAAAK,EAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,EAAA,SAAAF,GAAA,OAAAiC,KAAAQ,QAAAvC,EAAAE,EAAAJ,KAAAE,EAAAM,IAAAR,EAAAE,EAAA,CAAA0B,MAAAxB,EAAAsC,YAAAzC,EAAA0C,cAAA1C,EAAA2C,UAAA3C,IAAAD,EAAAE,GAAAE,GAAAE,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAgBA,IAkBMuI,GAAe,SAAA1F,GAAA,SAAA0F,IAAA,IAAAC,EAAAzF,EAAAC,YAAAhB,KAAAuG,GAAA,QAAAE,EAAAlE,UAAAjD,OAAAoH,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAArE,UAAAqE,GA8ElB,OA9EkB7F,EAAAE,YAAAjB,MAAAwG,EAAAtF,YAAAqF,IAAA9G,KAAA6C,MAAAkE,EAAA,CAAAxG,MAAA6G,OAAAH,MACnBvF,MAAQ,CACN2F,mBAAexF,EACfyF,sBAAkBzF,EAClB0F,WAAY,GACZC,qBAAiB3F,EACjB4F,mBAAe5F,EACf6F,WAAW,GACZpG,EAEDqG,gBAAkB,SAACC,GACjB,GAAKA,GAAUA,EAAMC,KAArB,CAIA,IAAIpF,EAAUmF,EAAMC,KAAKpF,QACrBqF,EAASF,EAAMC,KAAKC,OAExB,OAAQrF,GACN,IAAK,oBACHnB,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtB2F,cAAeS,EAAOC,UACtBT,iBAAkBQ,EAAOE,mBACzBT,WAAYO,EAAOP,cAErBjG,EAAKD,MAAM4G,oBAAoBH,EAAOC,WAAaD,EAAOP,YAAcjG,EAAKI,MAAM+F,eACnF,MACF,IAAK,UACHnG,EAAKD,MAAMkB,OAAOC,YAAY,CAAEC,QAAS,wBACpCqF,GACHxG,EAAKU,SAAS,SAAAN,GAAK,MAAK,CAAEgG,WAAW,KAEvC,MACF,IAAK,sBACH,IAAIQ,KAAgB5G,EAAKI,MAAM4F,mBAAoBhG,EAAKI,MAAM4F,iBAAiBQ,IAC/ExG,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtB8F,gBAAiBM,EACjBL,cAAeS,KAEjB5G,EAAKD,MAAM8G,yBAAyBL,GACpCxG,EAAKD,MAAM4G,oBAAoB3G,EAAKI,MAAM2F,eAAiB/F,EAAKI,MAAM6F,YAAcW,GACpF,MACF,IAAK,QACH5G,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtB8F,qBAAiB3F,EACjB4F,mBAAe5F,EACf6F,WAAW,QAMlBpG,EAED8G,kBAAoB,WAClB9G,EAAKD,MAAMkB,OAAO8F,iBAAiB,UAAW/G,EAAKqG,iBACnDrG,EAAKD,MAAMkB,OAAOC,YAAY,CAAEC,QAAS,uBAC1CnB,EAEDgH,qBAAuB,WACrBhH,EAAKD,MAAMkB,OAAOgG,oBAAoB,UAAWjH,EAAKqG,kBACvDrG,EAEDkH,aAAYrG,YAAAxB,KAAAE,EAAG,SAAAuB,IAAA,IAAAqG,EAAAC,EAAA,OAAA/H,KAAAC,EAAA,SAAAyB,GAAA,cAAAA,EAAAhE,EAAAgE,EAAA3D,GAAA,cAAA2D,EAAAhE,EAAA,EAAAgE,EAAA3D,EAAA,EAGQiK,UAAUC,IAAIC,cAAc,CAC7CC,QAAS,CAAC,CAAEC,SAAU,UACtB,OAFEN,EAAMpG,EAAA5C,EAGV6B,EAAKU,SAAS,SAAAN,GAAK,MAAK,CAAEgG,WAAW,KACrCpG,EAAKD,MAAMkB,OAAOC,YAAY,CAAEC,QAAS,UAAWC,OAAQ+F,EAAOO,eAAe3G,EAAA3D,EAAA,kBAAA2D,EAAAhE,EAAA,EAEnE,mBAFmEqK,EAAArG,EAAA5C,GAE5E0D,MAAuC,IAAXuF,EAAEO,KAAU,CAAA5G,EAAA3D,EAAA,eAAA2D,EAAA3C,EAAA,gBAAAgJ,EAAA,cAAArG,EAAA3C,EAAA,KAAA0C,EAAA,iBAMjDd,EAyDA,OAvIkB0B,YAAA8D,EAAA1F,GA8ElB6B,YAAA6D,EAAA,EAAA5D,IAAA,wBAAAhD,MAAA,SAEqBgJ,GACpB,OAAOA,EAAO,YAAc,gBAC7B,CAAAhG,IAAA,2BAAAhD,MAAA,SAEwBwH,EAAWyB,GAClC,OAAIzB,QAAyB7F,IAAZsH,EACR,sBAEOtH,IAAZsH,EACK,uBAGFA,GAAW,cACnB,CAAAjG,IAAA,0BAAAhD,MAAA,SAEuBkJ,GACtB,YAAevH,IAAXuH,EACK,GAEFA,EAAS7I,KAAKc,MAAM+B,QAAQiG,YAAc9I,KAAKc,MAAM+B,QAAQkG,YACrE,CAAApG,IAAA,gBAAAhD,MAAA,SAEaqJ,GACZ,OAAOA,EAAG,KAAAnC,OAAQmC,EAAIC,SAAS,KAAQ,KACxC,CAAAtG,IAAA,SAAAhD,MAAA,WAEQ,IACCkD,EAAY7C,KAAKc,MAAjB+B,QAER,OACEE,IAAAC,cAACkG,KAAI,CAAC5F,UAAWT,EAAQU,MACvBR,IAAAC,cAACmG,KAAQ,KAEPnJ,KAAKmB,MAAM2F,cACP/D,IAAAC,cAACoG,KAAM,CAAC9F,UAAWT,EAAQiG,aAAa/F,IAAAC,cAACqG,KAAS,OAElDtG,IAAAC,cAACoG,KAAM,CAAC9F,UAAWT,EAAQkG,WAAWhG,IAAAC,cAACsG,KAAS,OAGpDvG,IAAAC,cAACuG,KAAY,CAACC,QAAQ,kBAAkBC,UAAWzJ,KAAK0J,sBAAsB1J,KAAKmB,MAAM2F,kBAC3F/D,IAAAC,cAACmG,KAAQ,KACPpG,IAAAC,cAACoG,KAAM,CAAC9F,eAAqChC,IAA1BtB,KAAKmB,MAAM6F,WAA2BnE,EAAQkG,UAAYlG,EAAQiG,aACnF/F,IAAAC,cAAC2G,KAAa,OAEhB5G,IAAAC,cAACuG,KAAY,CAACC,QAAQ,cAAcC,UAAWzJ,KAAK4J,cAAc5J,KAAKmB,MAAM6F,eAE/EjE,IAAAC,cAACmG,KAAQ,KACPpG,IAAAC,cAACoG,KAAM,CAAC9F,UAAWtD,KAAK6J,wBAAwB7J,KAAKmB,MAAM+F,gBACzDnE,IAAAC,cAAC8G,KAAS,OAEZ/G,IAAAC,cAACuG,KAAY,CAACC,QAAQ,mBAAmBC,UAAWzJ,KAAK+J,yBAAyB/J,KAAKmB,MAAMgG,UAAWnH,KAAKmB,MAAM8F,mBACnHlE,IAAAC,cAACC,IAAM,CAACwC,QAAQ,YAAYtC,MAAM,YAAY6G,SAAUhK,KAAKmB,MAAMgG,UAAW8C,QAASjK,KAAKiI,cAAc,wBAIjH1B,EAvIkB,CAASxD,IAAM+C,WAiJrBC,OAnKA,SAAAC,GAAK,MAAK,CACvBC,SAAU,CACRhC,cAAe+B,EAAMpC,QAAQsC,MAE/B4C,YAAa,CACX3F,MAAO,OACP+G,gBAAiBC,KAAM,MAEzBpB,UAAW,CACT5F,MAAO,OACP+G,gBAAiBE,KAAI,MAEvBC,OAAQ,CACNC,UAAgC,EAArBtE,EAAMpC,QAAQsC,KACzBqE,WAAYvE,EAAMpC,QAAQsC,QAqJfH,CAAmBQ,yBCxK5BiE,GAAa,SAAA3J,GAAA,SAAA2J,IAAA,IAAAhE,EAAAzF,EAAAC,YAAAhB,KAAAwK,GAAA,QAAA/D,EAAAlE,UAAAjD,OAAAoH,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAArE,UAAAqE,GAqDhB,OArDgB7F,EAAAE,YAAAjB,MAAAwG,EAAAtF,YAAAsJ,IAAA/K,KAAA6C,MAAAkE,EAAA,CAAAxG,MAAA6G,OAAAH,MACjB+D,qBAAuB,EAAC1J,EAExBI,MAAQ,CACNuJ,eAAe,EACf7B,YAAQvH,EACRqJ,cAAUrJ,EACVsJ,aAAStJ,GACVP,EAEDqG,gBAAkB,SAACC,GACjB,GAAKA,GAAUA,EAAMC,KAArB,CAIA,IAAIpF,EAAUmF,EAAMC,KAAKpF,QACrBqF,EAASF,EAAMC,KAAKC,OAExB,OAAQrF,GACN,IAAK,QACHnB,EAAKU,SAAS,SAAAN,GAAK,MAAK,CAACyJ,QAASrD,KAClC,MACF,IAAK,eACHxG,EAAKU,SAAS,SAAAN,GAAK,MAAK,CAAC0H,OAAQtB,KACjC,MACF,IAAK,kBAEY,MAAXA,GAAkBsD,KAAKC,MAAQ/J,EAAK0J,qBAAuB,OAC7D1J,EAAKU,SAAS,SAAAN,GAAK,MAAK,CAACwJ,SAAUpD,KACnCxG,EAAK0J,qBAAuBI,KAAKC,UAMxC/J,EAED8G,kBAAoB,WAClB9G,EAAKD,MAAMkB,OAAO8F,iBAAiB,UAAW/G,EAAKqG,kBACpDrG,EAEDgH,qBAAuB,WACrBhH,EAAKD,MAAMkB,OAAOgG,oBAAoB,UAAWjH,EAAKqG,kBACvDrG,EAEDgK,WAAa,WACXhK,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtB6J,MAAM,EACNN,eAAe,EACf7B,OAAQ,GACR8B,SAAU,KAEZ5J,EAAKD,MAAMmK,wBAAuB,IACnClK,EA6CA,OAlGgB0B,YAAA+H,EAAA3J,GAqDhB6B,YAAA8H,EAAA,EAAA7H,IAAA,SAAAhD,MAAA,WAEQ,IACCkD,EAAY7C,KAAKc,MAAjB+B,QAER,OACEE,IAAAC,cAACD,IAAMM,SAAQ,KACbN,IAAAC,cAACU,IAAI,CAACC,WAAS,EAACC,QAAS,IACvBb,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,IACbhB,IAAAC,cAAC2C,KAAe,CAACrC,UAAWT,EAAQ+C,SAAU5B,MAAO,CAACkH,WAAY,OAAQC,UAAW,UAAWtF,QAAQ,gBAE1G9C,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,IACbhB,IAAAC,cAAA,UACED,IAAAC,cAAA,UACED,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,QAAQ4F,cAAY,GAAC,+DAE3CtI,IAAAC,cAAA,UACED,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,QAAQ4F,cAAY,GAAC,qEAE3CtI,IAAAC,cAAA,UACED,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,QAAQ4F,cAAY,GAAC,yEAE3CtI,IAAAC,cAAA,UACED,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,QAAQ4F,cAAY,GAAC,mFAE3CtI,IAAAC,cAAA,UACED,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,QAAQ4F,cAAY,GAAC,sFAI/CtI,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,IACbhB,IAAAC,cAACC,IAAM,CAACwC,QAAQ,YAAYtC,MAAM,YAAYyB,WAAS,EAACoF,SAAUhK,KAAKmB,MAAMuJ,cAAeT,QAASjK,KAAK+K,YAAY,2BAExHhI,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,IACX/D,KAAKmB,MAAM0H,OAAS9F,IAAAC,cAAA,WAAS,IAEjCD,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,IACX/D,KAAKmB,MAAM0H,OAAS9F,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,aAAazF,KAAKmB,MAAM0H,QAAuB,IAE3F9F,IAAAC,cAACU,IAAI,CAACI,MAAI,EAACC,GAAI,IACX/D,KAAKmB,MAAM0H,OAAS9F,IAAAC,cAACsI,KAAc,CAACnI,MAAM,YAAYsC,QAAQ,cAAc9F,MAAOK,KAAKmB,MAAMwJ,WAAe,UAKxHH,EAlGgB,CAASzH,IAAM+C,WA2GnBC,OA9GA,SAAAC,GAAK,MAAK,IA8GVD,CAAmByE,IC3G5Be,GAAM,SAAA1K,GAAA,SAAA0K,IAAA,OAAAvK,YAAAhB,KAAAuL,GAAAtK,YAAAjB,KAAAkB,YAAAqK,GAAAjJ,MAAAtC,KAAAuC,YAcT,OAdSE,YAAA8I,EAAA1K,GAAA6B,YAAA6I,EAAA,EAAA5I,IAAA,SAAAhD,MAAA,WACD,IACCkD,EAAY7C,KAAKc,MAAjB+B,QACR,OACEE,IAAAC,cAACD,IAAMM,SAAQ,KACbN,IAAAC,cAAA,QAAMF,OAAO,wCAAwC0I,OAAO,OAAOhK,OAAO,SAAS8B,UAAWT,EAAQ4I,QACpG1I,IAAAC,cAAA,SAAOsC,KAAK,SAAS1C,KAAK,MAAMjD,MAAM,cACtCoD,IAAAC,cAAA,SAAOsC,KAAK,SAAS1C,KAAK,mBAAmBjD,MAAM,kBACnDoD,IAAAC,cAAA,SAAO0B,GAAG,gBAAgBY,KAAK,QAAQoG,IAAI,8DAA8DC,OAAO,IAAI/I,KAAK,SAASgJ,MAAM,gDAAgDC,IAAI,8BAC5L9I,IAAAC,cAAA,OAAK6I,IAAI,GAAGF,OAAO,IAAID,IAAI,+CAA+CI,MAAM,IAAIC,OAAO,MAC3FhJ,IAAAC,cAAA,SAAOsB,QAAQ,gBAAgBN,MAAO,CAACgI,YAAa,QAAQ,wEAInET,EAdS,CAASxI,IAAM+C,WAqBZC,OA7BA,SAAAC,GAAK,MAAK,CACvByF,OAAQ,CACNnF,QAAS,OACTzC,WAAY,SACZoI,WAAY,SAyBDlG,CAAmBwF,kBChClC,IAAAxN,EAAAC,EAAAC,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,aAAA,yBAAAC,EAAAN,EAAAE,EAAAE,EAAAE,GAAA,IAAAC,EAAAL,KAAAM,qBAAAC,EAAAP,EAAAO,EAAAC,EAAAC,OAAAC,OAAAL,EAAAC,WAAA,OAAAK,GAAAH,EAAA,mBAAAV,EAAAE,EAAAE,GAAA,IAAAE,EAAAC,EAAAG,EAAAI,EAAA,EAAAjB,EAAAO,GAAA,GAAAW,GAAA,EAAAC,EAAA,CAAAnB,EAAA,EAAAK,EAAA,EAAAe,EAAAnB,EAAAoB,EAAAC,EAAAL,EAAAK,EAAAC,KAAAtB,EAAA,GAAAqB,EAAA,SAAApB,EAAAC,GAAA,OAAAM,EAAAP,EAAAQ,EAAA,EAAAG,EAAAZ,EAAAkB,EAAAd,EAAAF,EAAAkB,IAAA,SAAAC,EAAAnB,EAAAE,GAAA,IAAAK,EAAAP,EAAAU,EAAAR,EAAAH,EAAA,GAAAgB,GAAAD,IAAAV,GAAAL,EAAAF,EAAAwB,OAAAtB,IAAA,KAAAK,EAAAE,EAAAT,EAAAE,GAAAoB,EAAAH,EAAAnB,EAAAyB,EAAAhB,EAAA,GAAAN,EAAA,GAAAI,EAAAkB,IAAApB,KAAAQ,EAAAJ,GAAAC,EAAAD,EAAA,OAAAC,EAAA,MAAAD,EAAA,GAAAA,EAAA,GAAAR,GAAAQ,EAAA,IAAAa,KAAAf,EAAAJ,EAAA,GAAAmB,EAAAb,EAAA,KAAAC,EAAA,EAAAS,EAAAC,EAAAf,EAAAc,EAAAd,EAAAI,EAAA,IAAAa,EAAAG,IAAAlB,EAAAJ,EAAA,GAAAM,EAAA,GAAAJ,KAAAoB,KAAAhB,EAAA,GAAAN,EAAAM,EAAA,GAAAJ,EAAAc,EAAAd,EAAAoB,EAAAf,EAAA,OAAAH,GAAAJ,EAAA,SAAAkB,EAAA,MAAAH,GAAA,EAAAb,EAAA,gBAAAE,EAAAP,EAAAyB,GAAA,GAAAR,EAAA,QAAAS,UAAA,oCAAAR,GAAA,IAAAlB,GAAAsB,EAAAtB,EAAAyB,GAAAf,EAAAV,EAAAa,EAAAY,GAAAvB,EAAAQ,EAAA,EAAAT,EAAAY,KAAAK,GAAA,CAAAT,IAAAC,IAAA,GAAAA,EAAA,IAAAS,EAAAd,GAAA,GAAAiB,EAAAZ,EAAAG,IAAAM,EAAAd,EAAAQ,EAAAM,EAAAC,EAAAP,GAAA,OAAAI,EAAA,EAAAR,EAAA,IAAAC,IAAAH,EAAA,QAAAL,EAAAO,EAAAF,GAAA,MAAAL,IAAAyB,KAAAlB,EAAAI,IAAA,MAAAa,UAAA,wCAAAxB,EAAA0B,KAAA,OAAA1B,EAAAW,EAAAX,EAAA2B,MAAAnB,EAAA,IAAAA,EAAA,YAAAA,IAAAR,EAAAO,EAAAqB,SAAA5B,EAAAyB,KAAAlB,GAAAC,EAAA,IAAAG,EAAAa,UAAA,oCAAAnB,EAAA,YAAAG,EAAA,GAAAD,EAAAR,OAAA,IAAAC,GAAAgB,EAAAC,EAAAd,EAAA,GAAAQ,EAAAV,EAAAwB,KAAAtB,EAAAc,MAAAE,EAAA,YAAAnB,GAAAO,EAAAR,EAAAS,EAAA,EAAAG,EAAAX,EAAA,QAAAe,EAAA,UAAAY,MAAA3B,EAAA0B,KAAAV,IAAA,CAAAf,EAAAI,EAAAE,IAAA,GAAAI,EAAA,IAAAQ,EAAA,YAAAT,KAAA,SAAAmB,KAAA,SAAAC,KAAA9B,EAAAY,OAAAmB,eAAA,IAAAvB,EAAA,GAAAL,GAAAH,IAAA,GAAAG,QAAAW,GAAAd,EAAA,GAAAG,EAAA,kBAAA6B,OAAAhC,GAAAW,EAAAmB,EAAArB,UAAAC,EAAAD,UAAAG,OAAAC,OAAAL,GAAA,SAAAO,EAAAhB,GAAA,OAAAa,OAAAqB,eAAArB,OAAAqB,eAAAlC,EAAA+B,IAAA/B,EAAAmC,UAAAJ,EAAAhB,GAAAf,EAAAM,EAAA,sBAAAN,EAAAU,UAAAG,OAAAC,OAAAF,GAAAZ,EAAA,OAAA8B,EAAApB,UAAAqB,EAAAhB,GAAAH,EAAA,cAAAmB,GAAAhB,GAAAgB,EAAA,cAAAD,KAAAM,YAAA,oBAAArB,GAAAgB,EAAAzB,EAAA,qBAAAS,GAAAH,GAAAG,GAAAH,EAAAN,EAAA,aAAAS,GAAAH,EAAAR,EAAA,kBAAA6B,OAAAlB,GAAAH,EAAA,oDAAAyB,GAAA,kBAAAC,EAAA9B,EAAA+B,EAAAvB,OAAA,SAAAD,GAAAf,EAAAE,EAAAE,EAAAH,GAAA,IAAAO,EAAAK,OAAA2B,eAAA,IAAAhC,EAAA,gBAAAR,GAAAQ,EAAA,GAAAO,GAAA,SAAAf,EAAAE,EAAAE,EAAAH,GAAA,SAAAK,EAAAJ,EAAAE,GAAAW,GAAAf,EAAAE,EAAA,SAAAF,GAAA,OAAAiC,KAAAQ,QAAAvC,EAAAE,EAAAJ,KAAAE,EAAAM,IAAAR,EAAAE,EAAA,CAAA0B,MAAAxB,EAAAsC,YAAAzC,EAAA0C,cAAA1C,EAAA2C,UAAA3C,IAAAD,EAAAE,GAAAE,GAAAE,EAAA,UAAAA,EAAA,WAAAA,EAAA,eAAAN,EAAAE,EAAAE,EAAAH,GAyBA,IAoDMkO,GAAQ,CAAC,SAAU,WAAY,SAE/BC,GAAG,SAAAtL,GACP,SAAAsL,EAAYrL,GAAO,IAAAC,EAGY,OAHZC,YAAAhB,KAAAmM,IACjBpL,EAAAE,YAAAjB,KAAAkB,YAAAiL,GAAA1M,KAAAO,KAAMc,KAKRK,MAAQ,CACNiL,WAAY,EACZC,kBAAc/K,EACdgL,wBAAoBhL,EACpBiL,mBAAejL,EACfoJ,eAAe,EACf8B,UAAU,GACXzL,EAEDqG,gBAAkB,SAACC,GACjB,GAAKA,GAAUA,EAAMC,KAArB,CAIA,IAAIpF,EAAUmF,EAAMC,KAAKpF,QACrBqF,EAASF,EAAMC,KAAKC,OAExB,OAAQrF,GACN,IAAK,QACHnB,EAAKD,MAAM2L,gBAAgBlF,EAAO1B,QAAS,CACzCJ,QAAS,QACTiH,iBAAkB,SAMzB3L,EAED8G,kBAAoB,WAClB9G,EAAKiB,OAAO8F,iBAAiB,UAAW/G,EAAKqG,kBAC9CrG,EAEDgH,qBAAuB,WACrBhH,EAAKiB,OAAOgG,oBAAoB,UAAWjH,EAAKqG,kBACjDrG,EAED4L,eAAiB,SAACC,GAChB,OAAQA,GACN,KAAK,EACH,OAAO7J,IAAAC,cAACpC,GAAc,CAACoB,OAAQjB,EAAKiB,OAAQQ,qBAAsBzB,EAAKI,MAAMkL,aAAcjK,sBAAuBrB,EAAKqB,wBACzH,KAAK,EACH,OAAOW,IAAAC,cAACuD,GAAe,CAACvE,OAAQjB,EAAKiB,OAAQ4F,yBAA0B7G,EAAK6G,yBAA0BF,oBAAqB3G,EAAK2G,sBAClI,KAAK,EACH,OAAO3E,IAAAC,cAACwH,GAAa,CAACxI,OAAQjB,EAAKiB,OAAQiJ,uBAAwBlK,EAAKkK,yBAC1E,QACE,MAAM,IAAI4B,MAAM,kBAErB9L,EAEDqB,sBAAwB,SAACf,GACvBN,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtBkL,aAAchL,EACdiL,wBAAoBhL,EACpBiL,mBAAejL,EACfoJ,eAAe,EACf8B,UAAU,MAEbzL,EAED6G,yBAA2B,SAACX,GAC1BlG,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtBmL,mBAAoBrF,EACpBsF,mBAAejL,EACfoJ,eAAe,EACf8B,UAAU,MAEbzL,EAED2G,oBAAsB,SAACC,GACrB5G,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtBoL,cAAe5E,EACf+C,eAAe,EACf8B,UAAU,MAEbzL,EAEDkK,uBAAyB,SAAC6B,GACxB/L,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtBuJ,cAAeoC,EACfN,UAAU,MAEbzL,EAEDgM,WAAUnL,YAAAxB,KAAAE,EAAG,SAAAuB,IAAA,OAAAzB,KAAAC,EAAA,SAAAyB,GAAA,cAAAA,EAAA3D,GAAA,UACmB,IAA1B4C,EAAKI,MAAMiL,WAAgB,CAAAtK,EAAA3D,EAAA,QAIgB,OAH7C4C,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtBqL,UAAU,KAEZzL,EAAKiB,OAAOC,YAAY,CAAEC,QAAS,UAAUJ,EAAA3C,EAAA,UAI/C4B,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtBiL,WAAYjL,EAAMiL,WAAa,KAC7B,cAAAtK,EAAA3C,EAAA,KAAA0C,MACLd,EAEDiM,WAAa,WACXjM,EAAKU,SAAS,SAAAN,GAAK,MAAK,CACtBiL,WAAYjL,EAAMiL,WAAa,MAElCrL,EAEDkM,YAAc,WACZlM,EAAKU,SAAS,CACZ2K,WAAY,KA7GdrL,EAAKiB,OAAS,IAAIkL,IAAWnM,EAiM9B,OArMM0B,YAAA0J,EAAAtL,GAKN6B,YAAAyJ,EAAA,EAAAxJ,IAAA,cAAAhD,MAAA,WAiHC,OAA8B,IAA1BK,KAAKmB,MAAMiL,aAAqBpM,KAAKmB,MAAMkL,eAGZ,IAA1BrM,KAAKmB,MAAMiL,aAAqBpM,KAAKmB,MAAMoL,iBAGjB,IAA1BvM,KAAKmB,MAAMiL,YAAsBpM,KAAKmB,MAAMuJ,gBAAiB1K,KAAKmB,MAAMqL,aAIlF,CAAA7J,IAAA,SAAAhD,MAAA,WAEQ,IACCkD,EAAY7C,KAAKc,MAAjB+B,QACAuJ,EAAepM,KAAKmB,MAApBiL,WAER,OACErJ,IAAAC,cAACD,IAAMM,SAAQ,KACbN,IAAAC,cAACmK,IAAW,MACZpK,IAAAC,cAACoK,IAAM,CAACC,SAAS,WAAW/J,UAAWT,EAAQyK,QAC7CvK,IAAAC,cAACuK,IAAO,KACNxK,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,KAAKtC,MAAM,UAAUG,UAAWT,EAAQ2K,KAAMC,QAAM,GACtE1K,IAAAC,cAAC0K,IAAU,CAACpK,UAAWqK,IAAW,iBAAiB,6CAA0C5K,IAAAC,cAAA,KAAGM,UAAWT,EAAQ+K,WAAYpM,OAAO,QAAQ0B,KAAK,sDAAqD,SAAS,KAEnNH,IAAAC,cAAA,KAAGE,KAAK,wCAAwC1B,OAAO,SAASqM,IAAI,sBAAsBjC,MAAM,qBAC9F7I,IAAAC,cAAC8K,IAAU,CACTxK,UAAWT,EAAQwH,OACnB0D,aAAW,qBAEXhL,IAAAC,cAACgL,IAAO,CAAChK,MAAO,CAACb,MAAO,UACtBJ,IAAAC,cAAA,QAAM5D,EAAE,kZAMlB2D,IAAAC,cAAA,QAAMM,UAAWT,EAAQoL,QACvBlL,IAAAC,cAACkL,IAAK,CAAC5K,UAAWT,EAAQsL,OACxBpL,IAAAC,cAACoL,IAAO,CAAChC,WAAYA,EAAY9I,UAAWT,EAAQwL,SACjDnC,GAAMoC,IAAI,SAAAxJ,GAAK,OACd/B,IAAAC,cAACuL,IAAI,CAAC5L,IAAKmC,GACT/B,IAAAC,cAACwL,IAAS,KAAE1J,OAIlB/B,IAAAC,cAACD,IAAMM,SAAQ,KACZ+I,IAAeF,GAAM5M,OACpByD,IAAAC,cAACD,IAAMM,SAAQ,KACbN,IAAAC,cAACoI,IAAU,CAAC3F,QAAQ,KAAKgJ,MAAM,SAASpD,cAAY,GAAC,cAKvDtI,IAAAC,cAACD,IAAMM,SAAQ,KACZrD,KAAK2M,eAAeP,GACrBrJ,IAAAC,cAAA,OAAKM,UAAWT,EAAQ6L,aAEpB3L,IAAAC,cAACC,IAAM,CAACgH,QAASjK,KAAKgN,WAAY1J,UAAWT,EAAQ8L,WAAY3E,SAAyB,IAAfoC,GAAmC,IAAfA,GAAkB,QAInHrJ,IAAAC,cAACC,IAAM,CACLwC,QAAQ,YACRtC,MAAM,UACN8G,QAASjK,KAAK+M,WACdzJ,UAAWT,EAAQ8L,WACnB3E,SAAUhK,KAAK4O,eAEG,IAAfxC,EAAoB,iBAAmB,YAOtDrJ,IAAAC,cAACuI,GAAM,YAIdY,EArMM,CAASpJ,IAAM+C,WA6MlB+I,GAAkB9I,IAnQT,SAAAC,GAAK,MAAK,CACvBsH,OAAQ,CACND,SAAU,YAEZO,WAAY,CACVzK,MAAO,OAET8K,OAAMa,YAAA,CACJhD,MAAO,OACP1F,SAAU,QACVmE,WAAiC,EAArBvE,EAAMpC,QAAQsC,KAC1B6I,YAAkC,EAArB/I,EAAMpC,QAAQsC,KAC3BC,aAAmC,EAArBH,EAAMpC,QAAQsC,MAC3BF,EAAMgJ,YAAYC,GAAG,IAA2B,EAArBjJ,EAAMpC,QAAQsC,KAAW,GAAK,CACxD4F,MAAO,IACPvB,WAAY,OACZwE,YAAa,SAGjBvB,KAAM,CACJ0B,SAAU,GAEZC,cAAe,CACbjE,WAAY,OACZhB,gBAAiBlE,EAAMoJ,QAAQC,MAAMC,KACrClJ,SAAU,QACVmJ,SAAU,QACVC,aAAc,GAEhBrB,MAAKW,YAAA,CACHxE,UAAgC,EAArBtE,EAAMpC,QAAQsC,KACzBC,aAAmC,EAArBH,EAAMpC,QAAQsC,KAC5BuJ,QAA8B,EAArBzJ,EAAMpC,QAAQsC,MACtBF,EAAMgJ,YAAYC,GAAG,IAA2B,EAArBjJ,EAAMpC,QAAQsC,KAAW,GAAK,CACxDoE,UAAgC,EAArBtE,EAAMpC,QAAQsC,KACzBC,aAAmC,EAArBH,EAAMpC,QAAQsC,KAC5BuJ,QAA8B,EAArBzJ,EAAMpC,QAAQsC,OAG3BmI,QAAS,CACPoB,QAAO,GAAA5I,OAA0B,EAArBb,EAAMpC,QAAQsC,KAAQ,SAAAW,OAA6B,EAArBb,EAAMpC,QAAQsC,KAAQ,OAElEwI,YAAa,CACXpI,QAAS,OACToJ,eAAgB,YAElBf,WAAY,CACVrE,UAAgC,EAArBtE,EAAMpC,QAAQsC,KACzBqE,WAAYvE,EAAMpC,QAAQsC,QAmNNH,CAAmB4J,uBAAaxD,KAiBzCyD,OAff,WACE,OACE7M,IAAAC,cAAC6M,mBAAgB,CACfC,SAAU,EACVhN,OAAQ,CACNC,IAAAC,cAACC,IAAM,CAACwC,QAAQ,YAAYrC,KAAK,SAAQ,aAK3CL,IAAAC,cAAC6L,GAAe,QC7RhBkB,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,EAAOC,GAC9BnI,UAAUoI,cACPC,SAASH,GACTI,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB1P,QACfiH,UAAUoI,cAAcQ,YAI1BC,QAAQC,IACN,gHAKEX,GAAUA,EAAOY,UACnBZ,EAAOY,SAASR,KAMlBM,QAAQC,IAAI,sCAGRX,GAAUA,EAAOa,WACnBb,EAAOa,UAAUT,UAO5BU,MAAM,SAAAhC,GACL4B,QAAQ5B,MAAM,4CAA6CA,KC1FjEiC,IAASC,OAAOxO,IAAAC,cAACmJ,GAAG,MAAKqF,SAASC,eAAe,SDgB1C,SAAkBlB,GACvB,GAA6C,kBAAmBnI,UAAW,CAGzE,GADkB,IAAIsJ,IAAIC,WAAwB1B,OAAOC,SAAShN,MACpD0O,SAAW3B,OAAOC,SAAS0B,OAIvC,OAGF3B,OAAOnI,iBAAiB,OAAQ,WAC9B,IAAMwI,EAAK,GAAAzJ,OAAM8K,WAAsB,sBAEnC5B,IAgEV,SAAiCO,EAAOC,GAEtCsB,MAAMvB,GACHI,KAAK,SAAAoB,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASjJ,QACO,MAAfkJ,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5C9J,UAAUoI,cAAc2B,MAAMzB,KAAK,SAAAC,GACjCA,EAAayB,aAAa1B,KAAK,WAC7BT,OAAOC,SAASmC,aAKpBhC,GAAgBC,EAAOC,KAG1Bc,MAAM,WACLJ,QAAQC,IACN,mEArFAoB,CAAwBhC,EAAOC,GAI/BnI,UAAUoI,cAAc2B,MAAMzB,KAAK,WACjCO,QAAQC,IACN,+GAMJb,GAAgBC,EAAOC,MCvC/BC","file":"static/js/main.f1ed659b.chunk.js","sourcesContent":["module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"0f0004c8d66c121697a0.worker.js\");\n};","import React           from 'react';\nimport PropTypes       from 'prop-types';\nimport withStyles      from '@material-ui/core/styles/withStyles';\nimport Grid            from '@material-ui/core/Grid'\nimport FormControl     from '@material-ui/core/FormControl';\nimport InputLabel      from '@material-ui/core/InputLabel';\nimport Select          from '@material-ui/core/Select';\nimport MenuItem        from '@material-ui/core/MenuItem';\nimport Button          from '@material-ui/core/Button';\nimport TextField       from '@material-ui/core/TextField';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nconst styles = theme => ({\n  subtitle: {\n    paddingBottom: theme.spacing.unit,\n  },\n  formWrapper: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n    minWidth: 120,\n    verticalAlign: 'baseline',\n  },\n  input: {\n    display: 'none',\n  },\n});\n\nclass SelectFirmware extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state.file = props.selectedFirmwareFile\n  }\n\n  state = {\n    manufacturer: \"honda\", // only one supported right now\n    file: undefined,\n  }\n\n  manufacturerChange = (e) => {\n    let value = e.target.value\n    this.setState(state => ({ manufacturer: value }))\n  }\n\n  onFileSelect = async (e) => {\n    var file = e.target.files[0]\n    this.setState(state => ({ file: file }))\n    this.props.worker.postMessage({ command: 'set-firmware-file', params: file })\n    this.props.onReceiveFirmwareFile(file)\n  }\n\n  _getFileName(file) {\n    return file ? file.name : \"\"\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    const action = (\n      <Button href=\"https://github.com/gregjhogan/rwd-xray\" target=\"_blank\" color=\"secondary\" size=\"small\">\n        More Information\n      </Button>\n    );\n\n    return (\n      <React.Fragment>\n        <div className={classes.root}>\n          <form autoComplete=\"off\" className={classes.formWrapper}>\n            <Grid container spacing={16} alignItems='baseline'>\n              <Grid item xs={12} style={{paddingBottom: 0}}>\n                <FormControl className={classes.formControl}>\n                  <InputLabel shrink htmlFor=\"manufacturer-select\">\n                    Manufacturer\n                  </InputLabel>\n                  <Select\n                    onChange={this.manufacturerChange}\n                    value={this.state.manufacturer}\n                    inputProps={{\n                      name: 'manufacturer',\n                      id: 'manufacturer-select',\n                    }}\n                  >\n                    <MenuItem value=\"honda\">Honda</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n              <Grid item xs={9}>\n                <FormControl className={classes.formControl} fullWidth={true}>\n                  <TextField\n                    id=\"firmware-text-file\"\n                    label=\"Firmware File\"\n                    className={classes.textField}\n                    fullWidth={true}\n                    InputProps={{\n                      readOnly: true,\n                    }}\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    margin=\"dense\"\n                    placeholder=\"no file selected\"\n                    value={this._getFileName(this.state.file)}\n                  />\n                </FormControl>\n              </Grid>\n              <Grid item xs={3}>\n                <FormControl className={classes.formControl}>\n                  <input type=\"file\" id=\"firmware-button-file\" onChange={this.onFileSelect} accept=\".rwd\" className={classes.input} />\n                  <label htmlFor=\"firmware-button-file\">\n                    <Button variant=\"contained\" color=\"secondary\" component=\"span\">Select File</Button>\n                  </label>\n                </FormControl>\n              </Grid>\n              <Grid item xs={12}>\n                <SnackbarContent className={classes.snackbar} message=\"Find out more about RWD files\" action={action} />\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nSelectFirmware.propTypes = {\n  classes: PropTypes.object.isRequired,\n  worker: PropTypes.object.isRequired,\n  onReceiveFirmwareFile: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(SelectFirmware);\n","import React         from 'react';\nimport PropTypes     from 'prop-types';\nimport Avatar        from '@material-ui/core/Avatar';\nimport BuildIcon     from '@material-ui/icons/Build';\n\nimport CheckIcon     from '@material-ui/icons/Check';\nimport CloseIcon     from '@material-ui/icons/Close';\nimport DeviceHubIcon from '@material-ui/icons/DeviceHub';\nimport List          from '@material-ui/core/List';\nimport ListItem      from '@material-ui/core/ListItem';\nimport ListItemText  from '@material-ui/core/ListItemText';\nimport withStyles    from '@material-ui/core/styles/withStyles';\n\nimport green         from '@material-ui/core/colors/green';\nimport red           from '@material-ui/core/colors/red';\nimport Button        from '@material-ui/core/Button';\n\nconst styles = theme => ({\n  subtitle: {\n    paddingBottom: theme.spacing.unit,\n  },\n  greenAvatar: {\n    color: '#fff',\n    backgroundColor: green[500],\n  },\n  redAvatar: {\n    color: '#fff',\n    backgroundColor: red[500],\n  },\n  button: {\n    marginTop: theme.spacing.unit * 3,\n    marginLeft: theme.spacing.unit,\n  },\n});\n\nclass CheckCompatible extends React.Component {\n  state = {\n    firmwareValid: undefined,\n    firmwareVersions: undefined,\n    canAddress: '',\n    softwareVersion: undefined,\n    versionStatus: undefined,\n    connected: false,\n  }\n\n  _workerListener = (event) => {\n    if (!event || !event.data) {\n      return\n    }\n\n    var command = event.data.command\n    var result = event.data.result\n\n    switch (command) {\n      case 'get-firmware-info':\n        this.setState(state => ({\n          firmwareValid: result.supported,\n          firmwareVersions: result.compatibleVersions,\n          canAddress: result.canAddress,\n        }))\n        this.props.onReceiveCompatible(result.supported && result.canAddress && this.state.versionStatus)\n        break\n      case 'connect':\n        this.props.worker.postMessage({ command: 'get-app-software-id' })\n        if (!result) {\n          this.setState(state => ({ connected: false }))\n        }\n        break\n      case 'get-app-software-id':\n        let compatible = !!(this.state.firmwareVersions && this.state.firmwareVersions[result])\n        this.setState(state => ({\n          softwareVersion: result,\n          versionStatus: compatible,\n        }))\n        this.props.onReceiveSoftwareVersion(result)\n        this.props.onReceiveCompatible(this.state.firmwareValid && this.state.canAddress && compatible)\n        break\n      case 'error':\n        this.setState(state => ({\n          softwareVersion: undefined,\n          versionStatus: undefined,\n          connected: false,\n        }))\n        break\n      default:\n        break\n    }\n  }\n\n  componentDidMount = () => {\n    this.props.worker.addEventListener('message', this._workerListener)\n    this.props.worker.postMessage({ command: 'get-firmware-info' })\n  }\n\n  componentWillUnmount = () => {\n    this.props.worker.removeEventListener('message', this._workerListener)\n  }\n\n  clickConnect = async () => {\n    // connecting to user device can only happen inside a click handler\n    try {\n      let device = await navigator.usb.requestDevice({\n        filters: [{ vendorId: 0xbbaa }]\n      });\n      this.setState(state => ({ connected: true }))\n      this.props.worker.postMessage({ command: 'connect', params: device.serialNumber })\n    } catch (e) {\n      if (e.name === 'NotFoundError' && e.code === 8) {\n        // cancel button clicked\n        return\n      }\n      throw e\n    }\n  }\n\n  _convertToValidStatus(bool) {\n    return bool ? 'Supported' : 'Unsupported'\n  }\n\n  _convertToSofwareVersion(connected, version) {\n    if (connected && version === undefined) {\n      return \"connecting ...\"\n    }\n    if (version === undefined) {\n      return \"not connected to ECU\"\n    }\n\n    return version || 'Not Found'\n  }\n\n  _convertToVersionStatus(status) {\n    if (status === undefined) {\n      return ''\n    }\n    return status ? this.props.classes.greenAvatar : this.props.classes.redAvatar\n  }\n\n  _convertToHex(num) {\n    return num ? `0x${num.toString(16)}` : ''\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <List className={classes.root}>\n        <ListItem>\n          {\n          this.state.firmwareValid ? (\n              <Avatar className={classes.greenAvatar}><CheckIcon /></Avatar>\n            ) : (\n              <Avatar className={classes.redAvatar}><CloseIcon /></Avatar>\n            )\n          }\n          <ListItemText primary=\"File Validation\" secondary={this._convertToValidStatus(this.state.firmwareValid)} /></ListItem>\n        <ListItem>\n          <Avatar className={this.state.canAddress === undefined ? classes.redAvatar : classes.greenAvatar}>\n            <DeviceHubIcon />\n          </Avatar>\n          <ListItemText primary=\"ECU Address\" secondary={this._convertToHex(this.state.canAddress)} />\n        </ListItem>\n        <ListItem>\n          <Avatar className={this._convertToVersionStatus(this.state.versionStatus)}>\n            <BuildIcon />\n          </Avatar>\n          <ListItemText primary=\"Software Version\" secondary={this._convertToSofwareVersion(this.state.connected, this.state.softwareVersion)} />\n          <Button variant=\"contained\" color=\"secondary\" disabled={this.state.connected} onClick={this.clickConnect}>Connect to ECU</Button>\n        </ListItem>\n      </List>\n    );\n  }\n}\n\nCheckCompatible.propTypes = {\n  classes: PropTypes.object.isRequired,\n  worker: PropTypes.object.isRequired,\n  onReceiveSoftwareVersion: PropTypes.func.isRequired,\n  onReceiveCompatible: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(CheckCompatible);\n","import React             from 'react';\nimport PropTypes         from 'prop-types';\nimport Button            from '@material-ui/core/Button';\nimport Grid              from '@material-ui/core/Grid';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Typography        from '@material-ui/core/Typography';\nimport LinearProgress    from '@material-ui/core/LinearProgress';\nimport withStyles        from '@material-ui/core/styles/withStyles';\n\nconst styles = theme => ({\n});\n\nclass FlashFirmware extends React.Component {\n  last_progress_update = 0\n\n  state = {\n    userAgreement: false,\n    status: undefined,\n    progress: undefined,\n    success: undefined,\n  }\n\n  _workerListener = (event) => {\n    if (!event || !event.data) {\n      return\n    }\n\n    var command = event.data.command\n    var result = event.data.result\n\n    switch (command) {\n      case 'flash':\n        this.setState(state => ({success: result}))\n        break\n      case 'flash-status':\n        this.setState(state => ({status: result}))\n        break\n      case 'flash-progress':\n        // rate limit progress updates to make progress bar smooth\n        if (result === 100 || Date.now() - this.last_progress_update > 500) {\n          this.setState(state => ({progress: result}))\n          this.last_progress_update = Date.now()\n        }\n        break\n      default:\n        break\n    }\n  }\n\n  componentDidMount = () => {\n    this.props.worker.addEventListener('message', this._workerListener)\n  }\n\n  componentWillUnmount = () => {\n    this.props.worker.removeEventListener('message', this._workerListener)\n  }\n\n  clickAgree = () => {\n    this.setState(state => ({\n      open: false,\n      userAgreement: true,\n      status: '',\n      progress: 0,\n    }))\n    this.props.onReceiveUserAgreement(true)\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <React.Fragment>\n        <Grid container spacing={16}>\n          <Grid item xs={12}>\n            <SnackbarContent className={classes.snackbar} style={{fontWeight: 'bold', textAlign: 'center'}} message=\"DISCLAIMER\" />\n          </Grid>\n          <Grid item xs={12}>\n            <ul>\n              <li>\n                <Typography variant=\"body1\" gutterBottom>This software is experimental and I use it at my own risk!</Typography>\n              </li>\n              <li>\n                <Typography variant=\"body1\" gutterBottom>Flashing firmware can fail and cause the ECU to become unusable.</Typography>\n              </li>\n              <li>\n                <Typography variant=\"body1\" gutterBottom>Only use this tool on an ECU that you are willing to pay to replace.</Typography>\n              </li>\n              <li>\n                <Typography variant=\"body1\" gutterBottom>Keep this browser window and tab open and focused during the flashing process.</Typography>\n              </li>\n              <li>\n                <Typography variant=\"body1\" gutterBottom>When something goes wrong try power cycling the ECU and reloading this website.</Typography>\n              </li>\n            </ul>\n          </Grid>\n          <Grid item xs={12}>\n            <Button variant=\"contained\" color=\"secondary\" fullWidth disabled={this.state.userAgreement} onClick={this.clickAgree}>I Agree and Understand</Button>\n          </Grid>\n          <Grid item xs={12}>\n            { this.state.status ? <hr /> : '' }\n          </Grid>\n          <Grid item xs={12}>\n            { this.state.status ? <Typography variant=\"subtitle2\">{this.state.status}</Typography> : '' }\n          </Grid>\n          <Grid item xs={12}>\n            { this.state.status ? <LinearProgress color=\"secondary\" variant=\"determinate\" value={this.state.progress} /> : '' }\n          </Grid>\n        </Grid>\n      </React.Fragment>\n    );\n  }\n}\n\nFlashFirmware.propTypes = {\n  classes: PropTypes.object.isRequired,\n  worker: PropTypes.object.isRequired,\n  onReceiveUserAgreement: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(FlashFirmware);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = theme => ({\n  donate: {\n    display: 'flex',\n    alignItems: 'center',\n    lineHeight: '1em',\n  },\n});\n\nclass Donate extends React.Component {\n  render() {\n    const { classes } = this.props;\n    return (\n      <React.Fragment>\n        <form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\" target=\"_blank\" className={classes.donate}>\n          <input type=\"hidden\" name=\"cmd\" value=\"_s-xclick\" />\n          <input type=\"hidden\" name=\"hosted_button_id\" value=\"ZZ4ZRWAPSHJRY\" />\n          <input id=\"donate-button\" type=\"image\" src=\"https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif\" border=\"0\" name=\"submit\" title=\"PayPal - The safer, easier way to pay online!\" alt=\"Donate with PayPal button\" />\n          <img alt=\"\" border=\"0\" src=\"https://www.paypal.com/en_US/i/scr/pixel.gif\" width=\"1\" height=\"1\" />\n          <label htmlFor=\"donate-button\" style={{paddingLeft: \"8px\"}}>Support open source software and help keep this website alive!</label>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nDonate.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Donate);\n","import React           from 'react';\nimport PropTypes       from 'prop-types';\nimport AppBar          from '@material-ui/core/AppBar';\nimport Button          from '@material-ui/core/Button';\nimport classNames      from 'classnames';\nimport CssBaseline     from '@material-ui/core/CssBaseline';\nimport IconButton      from '@material-ui/core/IconButton';\nimport SvgIcon         from '@material-ui/core/SvgIcon';\nimport MemoryIcon      from '@material-ui/icons/Memory';\nimport Paper           from '@material-ui/core/Paper';\nimport Stepper         from '@material-ui/core/Stepper';\nimport Step            from '@material-ui/core/Step';\nimport StepLabel       from '@material-ui/core/StepLabel';\nimport Toolbar         from '@material-ui/core/Toolbar';\nimport Typography      from '@material-ui/core/Typography';\nimport withStyles      from '@material-ui/core/styles/withStyles';\n\nimport { SnackbarProvider, withSnackbar } from 'notistack';\n\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport EcuWorker       from 'worker-loader!./ecu.worker.js';\nimport SelectFirmware  from './components/SelectFirmware';\nimport CheckCompatible from './components/CheckCompatible';\nimport FlashFirmware   from './components/FlashFirmware';\nimport Donate          from './components/Donate'\n\nconst styles = theme => ({\n  appBar: {\n    position: 'relative',\n  },\n  appBarLink: {\n    color: 'red',\n  },\n  layout: {\n    width: 'auto',\n    minWidth: \"600px\",\n    marginLeft: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit * 2,\n    [theme.breakpoints.up(600 + theme.spacing.unit * 2 * 2)]: {\n      width: 600,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  dangerMessage: {\n    fontWeight: 'bold',\n    backgroundColor: theme.palette.error.dark,\n    minWidth: 'unset',\n    maxWidth: 'unset',\n    borderRadius: 0,\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 3,\n    marginBottom: theme.spacing.unit * 3,\n    padding: theme.spacing.unit * 2,\n    [theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2)]: {\n      marginTop: theme.spacing.unit * 6,\n      marginBottom: theme.spacing.unit * 6,\n      padding: theme.spacing.unit * 3,\n    },\n  },\n  stepper: {\n    padding: `${theme.spacing.unit * 3}px 0 ${theme.spacing.unit * 5}px`,\n  },\n  stepButtons: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  stepButton: {\n    marginTop: theme.spacing.unit * 2,\n    marginLeft: theme.spacing.unit,\n  },\n});\n\nconst steps = ['Select', 'Validate', 'Flash'];\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.worker = new EcuWorker()\n  }\n\n  state = {\n    activeStep: 0,\n    firmwareFile: undefined,\n    ecuSoftwareVersion: undefined,\n    ecuCompatible: undefined,\n    userAgreement: false,\n    flashing: false,\n  };\n\n  _workerListener = (event) => {\n    if (!event || !event.data) {\n      return\n    }\n\n    var command = event.data.command\n    var result = event.data.result\n\n    switch (command) {\n      case 'error':\n        this.props.enqueueSnackbar(result.message, {\n          variant: 'error',\n          autoHideDuration: 10000,\n        });\n        break\n      default:\n        break\n    }\n  }\n\n  componentDidMount = () => {\n    this.worker.addEventListener('message', this._workerListener)\n  }\n\n  componentWillUnmount = () => {\n    this.worker.removeEventListener('message', this._workerListener)\n  }\n\n  getStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return <SelectFirmware worker={this.worker} selectedFirmwareFile={this.state.firmwareFile} onReceiveFirmwareFile={this.onReceiveFirmwareFile} />;\n      case 1:\n        return <CheckCompatible worker={this.worker} onReceiveSoftwareVersion={this.onReceiveSoftwareVersion} onReceiveCompatible={this.onReceiveCompatible} />;\n      case 2:\n        return <FlashFirmware worker={this.worker} onReceiveUserAgreement={this.onReceiveUserAgreement} />;\n      default:\n        throw new Error('Unknown step');\n    }\n  }\n\n  onReceiveFirmwareFile = (file) => {\n    this.setState(state => ({\n      firmwareFile: file,\n      ecuSoftwareVersion: undefined,\n      ecuCompatible: undefined,\n      userAgreement: false,\n      flashing: false,\n    }))\n  }\n\n  onReceiveSoftwareVersion = (softwareVersion) => {\n    this.setState(state => ({\n      ecuSoftwareVersion: softwareVersion,\n      ecuCompatible: undefined,\n      userAgreement: false,\n      flashing: false,\n    }))\n  }\n\n  onReceiveCompatible = (compatible) => {\n    this.setState(state => ({\n      ecuCompatible: compatible,\n      userAgreement: false,\n      flashing: false,\n    }))\n  }\n\n  onReceiveUserAgreement = (agreement) => {\n    this.setState(state => ({\n      userAgreement: agreement,\n      flashing: false,\n    }))\n  }\n  \n  handleNext = async () => {\n    if (this.state.activeStep === 2) {\n      this.setState(state => ({\n        flashing: true,\n      }))\n      this.worker.postMessage({ command: 'flash' })\n      return\n    }\n\n    this.setState(state => ({\n      activeStep: state.activeStep + 1,\n    }));\n  };\n\n  handleBack = () => {\n    this.setState(state => ({\n      activeStep: state.activeStep - 1,\n    }));\n  };\n\n  handleReset = () => {\n    this.setState({\n      activeStep: 0,\n    });\n  };\n\n  _shouldStep() {\n    if (this.state.activeStep === 0 && !this.state.firmwareFile) {\n      return true\n    }\n    else if (this.state.activeStep === 1 && !this.state.ecuCompatible) {\n      return true\n    }\n    else if (this.state.activeStep === 2 && (!this.state.userAgreement || this.state.flashing)) {\n      return true\n    }\n    return false\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { activeStep } = this.state;\n\n    return (\n      <React.Fragment>\n        <CssBaseline />\n        <AppBar position=\"absolute\" className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow} noWrap>\n              <MemoryIcon className={classNames('memory-icon')}/> Flash ECUs from your web browser using a <a className={classes.appBarLink} target=\"blank\" href=\"https://comma.ai/shop/products/panda-obd-ii-dongle\">panda</a>!\n            </Typography>\n            <a href=\"https://github.com/gregjhogan/autoecu\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"GitHub repository\">\n              <IconButton\n                className={classes.button}\n                aria-label=\"GitHub repository\"\n              >\n                <SvgIcon style={{color: \"white\"}}>\n                  <path d=\"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3\"></path>\n                </SvgIcon>\n              </IconButton>\n            </a>\n          </Toolbar>\n        </AppBar>\n        <main className={classes.layout}>\n          <Paper className={classes.paper}>\n            <Stepper activeStep={activeStep} className={classes.stepper}>\n              {steps.map(label => (\n                <Step key={label}>\n                  <StepLabel>{label}</StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n            <React.Fragment>\n              {activeStep === steps.length ? (\n                <React.Fragment>\n                  <Typography variant=\"h5\" align=\"center\" gutterBottom>\n                    Complete!\n                  </Typography>\n                </React.Fragment>\n              ) : (\n                <React.Fragment>\n                  {this.getStepContent(activeStep)}\n                  <div className={classes.stepButtons}>\n                    {(\n                      <Button onClick={this.handleBack} className={classes.stepButton} disabled={activeStep === 0 || activeStep === 2}>\n                        Back\n                      </Button>\n                    )}\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={this.handleNext}\n                      className={classes.stepButton}\n                      disabled={this._shouldStep()}\n                    >\n                      {( activeStep === 2) ? 'Flash Firmware' : 'Next' }\n                    </Button>\n                  </div>\n                </React.Fragment>\n              )}\n            </React.Fragment>\n          </Paper>\n          <Donate />\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n  enqueueSnackbar: PropTypes.func.isRequired,\n};\n\nconst AppWithSnackbar = withStyles(styles)(withSnackbar(App));\n\nfunction SnackbarProviderApp() {\n  return (\n    <SnackbarProvider\n      maxSnack={3}\n      action={[\n        <Button variant=\"contained\" size=\"small\">\n          Dismiss\n        </Button>\n      ]}\n    >\n      <AppWithSnackbar />\n    </SnackbarProvider>\n  );\n}\n\nexport default SnackbarProviderApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}